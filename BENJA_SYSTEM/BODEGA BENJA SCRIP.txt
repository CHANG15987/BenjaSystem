
BASE DE DATOS: BODEGA

CREATE TABLE distritos (
  id_distrito VARCHAR(10) PRIMARY KEY NOT NULL,
  nombre VARCHAR(100) NOT NULL
);

CREATE TABLE usuarios (
  id_usuario VARCHAR(10) PRIMARY KEY NOT NULL,
  nombre VARCHAR(70) NOT NULL,
  apellido VARCHAR(70) NOT NULL,
  email VARCHAR(120) UNIQUE NULL,
  contrasena VARCHAR(255) NOT NULL,
  fecha_nacimiento DATE NULL,
  genero ENUM('M', 'F', 'O') NOT NULL,
  direccion VARCHAR(200) NULL,
  id_distrito VARCHAR(10) NULL,
  telefono VARCHAR(12) NULL,
  tipo_usuario ENUM('admin', 'vendedor', 'usuario') DEFAULT 'usuario',
  estado ENUM('activo', 'inactivo') DEFAULT 'activo',
  fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (id_distrito) REFERENCES distritos(id_distrito)
);

CREATE TABLE categorias_productos (
  id_categoria VARCHAR(10) PRIMARY KEY NOT NULL,
  nombre VARCHAR(100) NOT NULL
);

CREATE TABLE productos (
  id_producto VARCHAR(10) PRIMARY KEY NOT NULL,
  nombre VARCHAR(100) NOT NULL,
  precio_unitario DECIMAL(10,2) NOT NULL,
  id_categoria VARCHAR(10) NOT NULL,
  FOREIGN KEY (id_categoria) REFERENCES categorias_productos(id_categoria)
);

CREATE TABLE ventas (
  id_venta VARCHAR(10) PRIMARY KEY NOT NULL,
  id_producto VARCHAR(10) NOT NULL,
  id_usuario VARCHAR(10) NOT NULL,
  cantidad_vendida INT NOT NULL,
  total_venta DECIMAL(10,2) NOT NULL,
  fecha_venta TIMESTAMP NOT NULL,
  FOREIGN KEY (id_producto) REFERENCES productos(id_producto),
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
);

CREATE TABLE comprobantes (
  id_comprobante VARCHAR(10) PRIMARY KEY NOT NULL,
  id_usuario VARCHAR(10) NOT NULL,
  tipo_comprobante ENUM('boleta', 'factura') NOT NULL,
  numero_comprobante VARCHAR(20) NOT NULL,
  fecha_compra TIMESTAMP NOT NULL,
  monto_total DECIMAL(10,2) NOT NULL,
  impuestos DECIMAL(10,2) NOT NULL,
  metodo_pago ENUM('efectivo', 'tarjeta_credito', 'tarjeta_debito', 'transferencia', 'yape', 'plin') NOT NULL,
  estado_pago ENUM('pendiente', 'pagado', 'cancelado') DEFAULT 'pendiente',
  fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
);

CREATE TABLE clientes (
  id_cliente VARCHAR(10) PRIMARY KEY NOT NULL,
  dni int(9)NOT NULL,
  nombre VARCHAR(70) NOT NULL,
  apellido VARCHAR(70) NULL,
  telefono int(12) NULL,
  email VARCHAR(120) UNIQUE NULL,
  direccion VARCHAR(200) NULL,
  id_distrito VARCHAR(10) NOT NULL,
  fecha_creacion TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (id_distrito) REFERENCES distritos(id_distrito)
);




CREATE TABLE `ventas_benja`.`usuarios` (`id_usuario` VARCHAR(10) NOT NULL , `nombre` VARCHAR(70) NOT NULL DEFAULT 'NOT NULL' , `apellido` VARCHAR(70) NULL , `email` VARCHAR(120) NULL DEFAULT NULL , `contrasena` VARCHAR(255) NOT NULL , `fecha_nacimiento` DATE NULL DEFAULT NULL , `genero` ENUM('M','F','O') NOT NULL , `direccion` VARCHAR(200) NULL , `id_distrito` VARCHAR(10) NOT NULL , `telefono` INT(20) NULL , `tipo_usuario` ENUM('admin','vendedor','usuario') NOT NULL DEFAULT 'usuario' , `estado` ENUM('activo','inactivo') NOT NULL DEFAULT 'activo' , `fecha_creacion` TIMESTAMP NULL DEFAULT CURRENT_TIMESTAMP) ENGINE = InnoDB;